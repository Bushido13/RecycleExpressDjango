{% extends './base.html' %}
{% load static %}
{% block body %}
<div>
    <h2 id="Cotizador">Cotiza con nosotros</h2>
    <div class="d-flex justify-content-center">
                <img src="{% static 'img/delivery.png' %}" alt="delivery" width="150px" height="150px">
            </div>
           
<div class="container mt-5">
    <div class="card mx-auto" style="max-width: 800px;">
        <div class="card-body">
            <form>
                <div class="mb-3">
                    <label for="Direccion" class="form-label">Direcci처n</label>
                    <input type="text" class="form-control" id="Direccion" name="Direccion" placeholder="Calle/Avenida/Pasaje N째">
                </div>
                <div class="row mb-3">
                    <div class="col-md-6">
                        <label for="selec-comuna" class="form-label">Comuna</label>
                        <select class="form-select" id="selec-comuna" name="comuna">
                            <option value="">Seleccione una Comuna</option>
                            {% for p in comunas %}
                                <option value="{{ p.valorC }}">{{ p.nombre | capfirst }}</option>
                            {% endfor %}
                        </select>
                    </div>
                    <div class="col-md-6">
                        <label for="selec-material" class="form-label">Material</label>
                        <select class="form-select" id="selec-material" name="material">
                            <option value="">Seleccione un Material</option>
                            {% for m in materiales %}
                                <option value="{{ m.valorM }}">{{ m.nombre | capfirst }}</option>
                            {% endfor %}
                        </select>
                    </div>
                </div>
                <div class="row mb-3">
                    <div class="col-md-4">
                        <label for="altura" class="form-label">Altura</label>
                        <input type="number" class="form-control" id="altura" name="altura" placeholder="cm">
                    </div>
                    <div class="col-md-4">
                        <label for="ancho" class="form-label">Ancho</label>
                        <input type="number" class="form-control" id="ancho" name="ancho" placeholder="cm">
                    </div>
                    <div class="col-md-4">
                        <label for="largo" class="form-label">Largo</label>
                        <input type="number" class="form-control" id="largo" name="largo" placeholder="cm">
                    </div>
                </div>
                <div class="d-flex justify-content-center mt-3">
                    {% if user.is_authenticated %}
                        <button id="calcularBtn" type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#modal-resultado">Calcular</button>         
                    {% else %}
                        <h5 class="text-center">Para cotizar debes estar registrado</h5>
                        <a href="{% url 'login' %}" class="btn btn-primary btn-iniciar">Iniciar Sesi처n</a>
                    {% endif %}
                </div>
            </form>
        </div>
    </div>
</div>

<div class="modal fade" id="modal-resultado" tabindex="-1" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-body">
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Cerrar"></button>
            </div>
            <div class="modal-body text-center">
                <h2>Su Cotizaci처n</h2>
            </div>
            <div class="modal-body text-center">
                <p id="resultado-coti">El valor es: $0</p>
            </div>
            <div class="modal-footer d-flex justify-content-center">
                <button type="button" class="btn btn-primary" id="agregarCarritoBtn">Agregar a carrito</button>
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cerrar</button>
            </div>
        </div>
    </div>
</div>

{% block script %}

{% endblock %}
{% endblock %}

